# v2.0.0 업데이트 내용

> 예진그램 v2.0.0 업데이트 내용입니다.

V2로 업데이트된 예진그램에는 신규 기능이 대거 추가되었습니다! 자세한 업데이트 내용은 아래를 참고해주세요.

- **예진그램**: https://yejingram.com/
- **예진그램 (개발 프리뷰)**: https://dev.yejingram.com/
- **예진그램 렐름**: https://realm.yejingram.com/

> 주의사항: 개발 프리뷰 웹사이트는 언제든지 예고 없이 변경될 수 있으며, 개발 중 데이터베이스 구조 변경 및 오류 발생으로 인한 데이터 손실이 불가피합니다. 이에 대해서 예진그램 개발팀은 책임지지 않습니다.

---

## 새로운 기능

- **선톡 서버 구현**
- **렐름(베타) 서비스 시작**
- 백업 방식 최적화 (패치 방식)
- 파일을 바이너리로 저장하도록 변경
- 바이너리 캐싱을 통한 최적화
- UI 제거한 헤드리스 예진그램 분리
- 신규 공지 알림 추가

## 주요 추가/개선 기능 상세 소개

### 선톡 서버 구현

<img width="400" alt="image" src="https://github.com/user-attachments/assets/7104770c-ed74-4d6d-bb3c-af83a5fe6c7f" />

드디어 완벽한 선톡이 지원됩니다! 이전 동기화/백업 서버와 마찬가지로, 선톡 서버는 본인이 직접 내려받은 뒤 세팅해주셔야 합니다. 선톡 서버는 동기화 서버와 함께 작동합니다.

<img width="400" alt="image" src="https://github.com/user-attachments/assets/7909cb6a-6835-400e-afd1-708e2b4c1806" />

이런 식으로 여러 개의 알림을 받을 수도 있고,

<img width="400" alt="image" src="https://github.com/user-attachments/assets/44d8f275-a753-49a7-b88b-86694c1e9ff7" />

이런 식으로 대화를 하다가 나가면 잠시 뒤에,

<img width="400" alt="image" src="https://github.com/user-attachments/assets/e20fd6bf-d403-4706-a840-0fa8a0127802" />

자연스럽게 후속 대화가 오는 걸 확인하실 수 있습니다.

AI 능지에 따라서 아래와 같이

<img width="400" alt="image" src="https://github.com/user-attachments/assets/939865be-0a90-47eb-93ec-40d8478dac08" />

새벽 4시에 왕 멍청한 대화(와 이미지)가 올 수도 있으므로 시간대 설정을 잘 해 두도록 합시다...

> 주의: 선톡을 받으려는 채팅방에서 "선톡 허용"을 켜야 작동합니다.

<img width="400" alt="image" src="https://github.com/user-attachments/assets/54916e4a-a52b-4fb5-af6d-4e4459bedfa7" />


### 렐름(베타) 서비스

[예진렐름 바로가기](https://realm.yejingram.com/)

예진그램이 캐릭터 공유 및 제작 활성화를 위해, 렐름 서비스를 시작합니다!

<img width="800" alt="image" src="https://github.com/user-attachments/assets/e57c862a-9af1-4165-ae31-398bce181e84" />

예진렐름 개별 페이지

<img width="800" alt="image" src="https://github.com/user-attachments/assets/f3cbc964-28f3-4d5a-a0f9-b07518cfa2b3" />

예진그램 내부 예진렐름 영역

<img width="800" alt="image" src="https://github.com/user-attachments/assets/d2eee2c7-3a73-4895-a957-c33ab753de01" />

캐릭터 페이지 영역

봇 제작자 여러분과 예진그램 사용자 여러분의 많은 렐름 사용 부탁드립니다!

(은근슬쩍 등장했습니다만, 예진그램 첫 공식 캐릭터 `이예진`이 렐름에 등록되어 있으니, 많은 사랑 바랍니다)

- 렐름에 봇을 등록하기 위해서는 회원가입이 필요하며, 개인정보는 모두 암호화되어 저장됩니다. 세부사항은 [개인정보처리방침](https://realm.yejingram.com/privacy)과 [서비스 이용약관](https://realm.yejingram.com/terms)을 참조하세요.


### 백업 방식 최적화

백업/동기화 서버에 패치 방식을 도입하여, 서버와 클라이언트를 대폭 최적화하였습니다.

<img width="400" alt="image" src="https://github.com/user-attachments/assets/e44a3096-32c6-4170-bcb9-fa43d15c4a71" />
<img width="400" alt="image" src="https://github.com/user-attachments/assets/4b40f352-f63b-4b93-a096-c5b3a8298a2d" />

기존에 약 5초가량 걸리던 동기화 작업을

<img width="400" alt="image" src="https://github.com/user-attachments/assets/e7c2ff3e-08b9-43ad-8909-0e4f288bbf7a" />
<img width="400" alt="image" src="https://github.com/user-attachments/assets/41856d9d-b9a8-4e8a-8b69-e6b5b4cf059e" />

패치 방식 도입을 통해 최적화하여, 0.1초 미만으로 줄였습니다.


### 파일을 바이너리로 저장하도록 변경 / 바이너리 캐싱 도입

기존 DataURL로 저장되던 이미지 파일들이 특정 용량 (약 100MB) 초과 시 크로미움 계열 브라우저에서 오류를 발생시키는 것을 확인하였습니다.

따라서 파일을 바이너리로 저장하도록 변경하였으며, 이를 브라우저에 캐싱하여 10배 가량 빠르게 이미지를 불러올 수 있도록 하였습니다.

> 주의: 업데이트 직후 이전에 보냈던/받았던 이미지가 정상적으로 표시되지 않을 수 있습니다. 이 경우 새로고침하시면 해결됩니다.


### UI 제거한 헤드리스 예진그램 분리

선톡 서버 구현을 위해 UI가 없는 서버용 예진그램을 만들었습니다. 더 다양한 방식으로 예진그램을 사용할 수 있을 것을 기대합니다!


### 신규 공지 알림


---

## 마무리

지난 번 업데이트 이후 약 3개월, 개인적인 일들로 많이 바빠서 업데이트가 늦었습니다. 대신 큰 거 한 방 들고 왔으니, 많은 이용 부탁드립니다!

예진그램을 항상 사용해주시는 여러분께 감사드립니다!

[예진그램 GitHub 바로가기](https://github.com/YEJIN-DEV/yejingram)를 통해서 기여하실 수 있습니다. 언제나 PR은 열려있으므로, 많은 기여 부탁드립니다!
