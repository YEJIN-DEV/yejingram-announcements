# v1.0.0 업데이트 내용

> 예진그램 첫번째 정식 릴리즈입니다!

이번 v1.0.0 업데이트에서는 다음과 같은 새로운 기능과 개선 사항이 포함되었습니다.

## 새로운 기능

- 토큰 수 제한 기능 추가
- ComfyUI 지원
- ArtStyle 관리 도구 추가
- 이미지 재생성 기능 추가
- UI 테마 커스터마이징 추가 (라이트 모드 / 다크 모드 / 커스텀 제작 테마)
- 서버 동기화 기능 추가
- 다국어 지원 (한국어, 영어, 일본어)
- 공지사항 보기 추가
- Claude Sonnet 4.5 지원 추가

## 개선된 기능

- 메시지 편집 UI 개선
- 이미지 클릭하여 확대 보기 기능 추가
- 채팅방 열기 액션 개선 (모바일에서는 더블클릭, 데스크탑에서는 클릭으로 채팅창을 열 수 있습니다.)
- AI 설정 페이지 개선 (화면 번잡도를 낮추기 위해, 생성 파라미터 설정을 프롬프트 설정 내부로 이동하였습니다.)
- NovelAI 이미지 생성 기능 강화
  - 이미지 생성 요청 파라미터 설정 기능 추가 (이미지 생성 허용 시 나타나는 이미지 설정 탭에서, NAI 모델 선택 시 조절할 수 있습니다.)
  - 이미지 부정 프롬프트 인풋 추가 (ArtStyle에 입력된 부정 프롬프트를 생성 시 반영합니다.)
  - 캐릭터 스타일 인식 모드 추가 (등록된 캐릭터 프로필 이미지의 스타일을 인식하여 반영합니다.)
- 에러페이지 개선 (발생한 에러의 스택을 확인할 수 있습니다.)
- DB 마이그레이션 기능 개선 (이전 버전에서 상위 버전 페이지로 접속, 혹은 과거 버전의 데이터를 불러오기하는 경우 자동으로 마이그레이션됩니다.)
- OpenAI 구조화된 출력 지원
- 캐릭터 편집 화면 개선 (캐릭터 편집 창이 열려있는 상태에서, 다른 캐릭터를 편집할 때 한 번에 열리지 않는 문제를 해결했습니다.)
- 너무 길어지는 미리보기 메시지, 그룹 채팅방 참여자 명단 UI 개선 (사이드바의 최근 채팅 미리보기와 그룹 채팅방 참여자 명단이 1줄을 넘지 않도록 조치했습니다.)
- AI JSON Fixer 도입 (클로드 등 일부 모델에서 구조화된 출력이 지정된 양식으로 돌아오지 않는 경우에 대한 Fallback)

## 제거된 기능

- 선톡 기능 관련 설정을 일시 삭제하였습니다. 기술적인 이유로 인하여, 사용자가 웹 페이지를 상시 열어두지 않는 이상 선톡을 트리거할 수 없어 해당 기능에 대한 실질적인 수요가 낮다고 판단, 기능 완성을 보류하기로 하였습니다. 차후 기능 재도입의 여지는 있습니다.

## 예진그램 도메인 이전 및 개발 프리뷰 공개

> 도메인을 샀습니다!
> 
> 무려 닷컴을 사버렸습니다!

따라서 기존 https://yejingram.vercel.app/ 에서 https://yejingram.com/ 으로 주소를 이전하였습니다. 기존 Vercel 앱 주소도 그대로 사용 가능합니다.

단, 기존 주소로 접속하여 사용하시던 데이터는 직접 내보내기 후 yejingram.com 에서 불러오기 하셔야 합니다.

추가적으로, 정식 추가 전의 개발중인 예진그램의 기능을 이용해보고 싶은 분들을 위해 개발용 프리뷰 웹페이지를 공개하기로 했습니다! https://dev.yejingram.com/ 주소로 접근 가능합니다.

> 주의사항: 개발 프리뷰 웹사이트는 언제든지 예고 없이 변경될 수 있으며, 개발 중 데이터베이스 구조 변경 및 오류 발생으로 인한 데이터 손실이 불가피합니다. 이에 대해서 예진그램 개발팀은 책임지지 않습니다.

- 예진그램: https://yejingram.com/
- 예진그램 (개발 프리뷰): https://dev.yejingram.com/

---

## 주요 추가/개선 기능 상세 소개

### 토큰 수 제한
<img width="400" alt="image" src="https://github.com/user-attachments/assets/30523311-f218-4e05-80d7-23135199f9b4" />

입/출력 최대 토큰 수를 제한할 수 있습니다. 각 모델별로 입력 토큰 계산 후, 최대 토큰을 초과하는 경우 요청에 포함하는 메시지의 갯수를 줄입니다.

### ComfyUI 지원
<img width="400" alt="image" src="https://github.com/user-attachments/assets/2f5e6118-e23f-466e-b218-4f22fef21fb7" />

ComfyUI를 지원합니다. JSON 입력기를 이용해서 편리하게 워크플로우를 수정하실 수 있습니다.

### ArtStyle 관리 도구
<img width="400" alt="image" src="https://github.com/user-attachments/assets/e20762d8-b070-4f66-8ed5-25ac900d747a" />

이미지 생성 요청 시 함께 전달할 긍정/부정 프롬프트를 관리할 수 있습니다.

<img width="400" alt="image" src="https://github.com/user-attachments/assets/97bb0915-2349-4ea7-abed-d3e5fd8d31e5" />

또한, 여러개의 ArtStyle를 만들어두고 골라서 사용하는 것도 가능합니다.

### 이미지 재생성
<img width="400" alt="image" src="https://github.com/user-attachments/assets/d9526461-2d08-42a0-8c79-ebbcebbf5d06" />

생성한 이미지를 다시 생성하도록 요청할 수 있습니다. **모바일에서는 이미지 클릭 시, 데스크탑은 이미지에 커서를 올릴 경우** 나타나는 이미지 재생성 버튼을 통해 요청 가능합니다.

### UI 테마 커스터마이징
라이트 모드, 다크 모드, 시스템 설정, 커스텀 테마에서 선택 가능합니다.
<img width="1000" alt="image" src="https://github.com/user-attachments/assets/7422405b-9c0b-4684-89aa-8e25d17d312d" />

라이트 모드 미리보기

<img width="1000" alt="image" src="https://github.com/user-attachments/assets/165f018e-86b4-4d1e-b67b-53c370595ae1" />

다크 모드 미리보기

<img width="1000" alt="image" src="https://github.com/user-attachments/assets/2018e969-d40c-4e81-a10e-55f99199107c" />

커스텀 테마 선택 시 커스텀 테마 팔레트 편집기가 나타나며, UI 내 모든 색상을 커스터마이징 할 수 있습니다.

<img width="1000" alt="image" src="https://github.com/user-attachments/assets/bd7b9a10-200b-4ace-9ce3-b32f19ca59b8" />

커스터마이징 미리보기

### 서버 동기화

<img width="400" alt="image" src="https://github.com/user-attachments/assets/697b6bab-e916-4453-9480-4eed5d5f3275" />

경량 Express 동기화 서버를 사용할 수 있도록 했습니다. 서버는 로컬에 받아서 실행하여 사용하실 수 있으며, 자세한 내용은 [도움말](https://github.com/YEJIN-DEV/yejingram/blob/main/README.md#sync-server-optional)을 참고해주세요.

### 다국어 지원

한국어 외에 영어, 일본어를 지원합니다. 오역이 있을 수 있습니다. 오역이나 번역 제안에 대한 내용은 [GitHub에 Issue로](https://github.com/YEJIN-DEV/yejingram/issues) 작성해주세요.

<img width="1000" alt="image" src="https://github.com/user-attachments/assets/640f00e2-7fd2-4058-b178-ff3b1d4ce0a9" />

한국어

<img width="1000" alt="image" src="https://github.com/user-attachments/assets/c33d0b74-a07d-4adc-b7c1-65e5fc9c62aa" />

영어

<img width="1000" alt="image" src="https://github.com/user-attachments/assets/fe81ab46-3285-4b09-828f-f98b8e1a1272" />

일본어

### 메시지 편집 UI 개선

<img width="1000" alt="image" src="https://github.com/user-attachments/assets/ebab1a33-08a3-4650-ada7-ed984d99cb74" />

메시지 편집 시 표시되는 입력창의 크기를 키웠습니다. 사용성이 편리해질 것으로 보입니다.

### 이미지 클릭 확대 보기

<img width="400" alt="image" src="https://github.com/user-attachments/assets/f636c213-5d51-4e47-be24-ce0f14e7350d" />

생성된 이미지 혹은 전송한 이미지를 클릭할 경우 크게 볼 수 있습니다.

**모바일에서는 더블 클릭, 데스크탑에서는 클릭으로 작동합니다.**

### NovelAI 파라미터 조절

<img width="400" alt="image" src="https://github.com/user-attachments/assets/b969e73a-34b3-4a68-958a-a555f04a7e28" />

베타 릴리즈 당시 포함되지 않았던 NovelAI 이미지 생성 파라미터 조절 메뉴를 추가하였습니다. 이미지 설정 탭에서 NAI 모델을 선택할 경우 표시됩니다.

또한, 스타일 인식 모드를 켜면 NAI가 현재 캐릭터의 프로필 사진 드로잉 스타일을 인식하여 반영합니다.

### 공지사항 보기 추가

<img width="400" alt="image" src="https://github.com/user-attachments/assets/f73ccd42-0941-4ccc-aed6-cc90efb634b8" />

사이드바 상단의 확성기 아이콘을 통해, 시스템 공지사항을 확인하실 수 있습니다.

여기에는 중요 릴리즈 노트, 패치 노트, 혹은 시스템 오류 관련 공지가 게시될 예정입니다!

---

## 업데이트 후 마이그레이션 오류 발생 시 해결법

기초적인 마이그레이션은 전부 가능하도록 해 두었으나, 설정이 꼬이는 일이 발생할 수 있습니다. 아래와 같은 에러 창이 표시되는 경우,
<img width="400" alt="image" src="https://github.com/user-attachments/assets/b448d76f-40ce-4d2a-8f3b-db5dd9ad1bf0" />

API 설정 초기화, 프롬프트 초기화, 사용자 정보 초기화, 기타 설정 초기화는 **채팅 기록**에는 영향을 주지 않으며, 저장된 API Key나 프롬프트, 파라미터 등 환경설정만 초기화됩니다.
> 주의: **저장된 데이터베이스 초기화**를 하는 경우, 채팅 기록까지 전부 초기화됩니다!

만약 위 네 단계 초기화를 진행했는데도 에러 화면이 표시되는 경우, 우선 **백업**버튼으로 데이터 백업 후 **오류 세부 정보**를 확인하여 알려주시면 가능한대로 도움 드리도록 하겠습니다.

## 마무리

지난번 릴리즈했던 베타 이후로, 조금 더 완성도있는 예진그램으로 만들기 위해 한달 남짓한 시간이 소요되었습니다. 이제 필수적으로 필요한 기능은 어느정도 완성하고 개선했다고 생각됩니다.

정식으로 릴리즈를 한 만큼, 이제 신규 기능 추가 혹은 버그 수정사항을 바로바로 배포 페이지에 반영할 수 있을 것 같습니다!

예진그램을 사용해주시고, 관심 가져주시는 여러분들께 항상 진심으로 감사드립니다!

[예진그램 GitHub 바로가기](https://github.com/YEJIN-DEV/yejingram)를 통해서 기여하실 수 있습니다. 언제나 PR은 열려있으므로, 많은 기여 부탁드립니다!
